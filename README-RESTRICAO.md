# ğŸš« Sistema de RestriÃ§Ã£o de Mensagens - 17h Ã s 18h

## ğŸ“‹ VisÃ£o Geral

O sistema implementa uma restriÃ§Ã£o inteligente que **bloqueia o envio de mensagens automÃ¡ticas "aguardando"** durante o perÃ­odo de **17h Ã s 18h** em dias Ãºteis. Esta restriÃ§Ã£o foi criada para preparar o ambiente para o fim do expediente, garantindo que apenas a mensagem oficial de fim de expediente seja enviada no horÃ¡rio correto.

---

## ğŸ¯ Objetivo da RestriÃ§Ã£o

- **Preparar o ambiente** para o fim do expediente
- **Evitar conflitos** entre mensagens automÃ¡ticas e mensagem oficial de fim
- **Garantir ordem** no processo de encerramento do atendimento
- **Melhorar a experiÃªncia** do paciente com comunicaÃ§Ã£o organizada

---

## â° Funcionamento por Dia da Semana

### ğŸ“… **SEGUNDA-FEIRA**

#### ğŸŒ… **ManhÃ£ (8h - 17h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (17h - 18h) - PERÃODO DE BLOQUEIO**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (18h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento
- ğŸ’¬ Mensagem: "Devido Ã  grande demanda... serÃ¡ realizado no prÃ³ximo expediente"

#### ğŸŒ™ **Noite (18h - 8h do dia seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes
- ğŸŒ™ Sistema funciona normalmente durante toda a noite

---

### ğŸ“… **TERÃ‡A-FEIRA**

#### ğŸŒ… **ManhÃ£ (8h - 17h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (17h - 18h) - PERÃODO DE BLOQUEIO**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (18h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento

#### ğŸŒ™ **Noite (18h - 8h do dia seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes

---

### ğŸ“… **QUARTA-FEIRA**

#### ğŸŒ… **ManhÃ£ (8h - 17h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (17h - 18h) - PERÃODO DE BLOQUEIO**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (18h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento

#### ğŸŒ™ **Noite (18h - 8h do dia seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes

---

### ğŸ“… **QUINTA-FEIRA**

#### ğŸŒ… **ManhÃ£ (8h - 17h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (17h - 18h) - PERÃODO DE BLOQUEIO**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (18h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento

#### ğŸŒ™ **Noite (18h - 8h do dia seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes

---

### ğŸ“… **SEXTA-FEIRA**

#### ğŸŒ… **ManhÃ£ (8h - 17h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (17h - 18h) - PERÃODO DE BLOQUEIO**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (18h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento

#### ğŸŒ™ **Noite (18h - 8h da segunda-feira seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes
- ğŸ“… Sistema funciona normalmente durante todo o fim de semana

---

### ğŸ“… **SÃBADO - HORÃRIO ESPECIAL**

#### ğŸŒ… **ManhÃ£ (8h - 11h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente

#### ğŸŒ‡ **Tarde (11h - 12h) - PERÃODO DE BLOQUEIO ESPECIAL**
- âŒ **BLOQUEIO TOTAL** para mensagens "aguardando"
- âŒ **BLOQUEIO TOTAL** para mensagem de fim de expediente
- ğŸ“ Pacientes continuam sendo registrados na fila
- ğŸ”‡ Sistema fica em "modo silencioso" para preparar o encerramento

#### ğŸŒ™ **Fim de Expediente (12h)**
- âœ… **Mensagem oficial de fim de expediente** Ã© enviada
- ğŸ“± Todos os pacientes aguardando recebem a mensagem de encerramento
- ğŸ’¬ Mensagem: "Devido Ã  grande demanda... serÃ¡ realizado no prÃ³ximo expediente"

#### ğŸŒ™ **Tarde/Noite (12h - 8h da segunda-feira seguinte)**
- âœ… **Mensagens "aguardando"** voltam a funcionar normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes
- ğŸ“… Sistema funciona normalmente durante todo o fim de semana

---

### ğŸ“… **DOMINGO - SEM RESTRIÃ‡Ã•ES**

#### ğŸŒ… **ManhÃ£ (8h - 18h)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes recebem notificaÃ§Ãµes apÃ³s 30 minutos de espera
- âœ… Sistema monitora e processa todos os pacientes ativamente
- ğŸš« **NÃƒO HÃ** perÃ­odo de bloqueio aos domingos

#### ğŸŒ™ **Noite (18h - 8h da segunda-feira seguinte)**
- âœ… **Mensagens "aguardando"** funcionam normalmente
- âœ… Pacientes que chegam fora do horÃ¡rio recebem notificaÃ§Ãµes
- ğŸ“… Sistema funciona normalmente durante toda a noite

---

## ğŸ¬ CenÃ¡rios de Exemplo

### ğŸ“… **CenÃ¡rio 1: Paciente chega Ã s 16h30 (Segunda-feira)**
- âœ… **16h30:** Paciente chega na clÃ­nica
- âœ… **17h00:** Paciente completa 30 minutos de espera
- âŒ **17h00:** Sistema **NÃƒO envia** mensagem "aguardando" (bloqueio ativo)
- âœ… **18h00:** Paciente recebe mensagem de fim de expediente
- ğŸ“± **Resultado:** Paciente recebe apenas a mensagem oficial de fim

### ğŸ“… **CenÃ¡rio 2: Paciente chega Ã s 17h30 (TerÃ§a-feira)**
- âœ… **17h30:** Paciente chega na clÃ­nica
- âŒ **18h00:** Paciente completa 30 minutos de espera, mas **NÃƒO recebe** mensagem
- âœ… **18h00:** Paciente recebe mensagem de fim de expediente
- ğŸ“± **Resultado:** Paciente recebe apenas a mensagem oficial de fim

### ğŸ“… **CenÃ¡rio 3: Paciente chega Ã s 19h (Quarta-feira)**
- âœ… **19h:** Paciente chega na clÃ­nica (fora do horÃ¡rio)
- âœ… **19h30:** Paciente completa 30 minutos de espera
- âœ… **19h30:** Sistema **ENVIA** mensagem "aguardando" (bloqueio inativo)
- ğŸ“± **Resultado:** Paciente recebe mensagem normal de aguardo

### ğŸ“… **CenÃ¡rio 4: Paciente chega Ã s 10h30 (SÃ¡bado)**
- âœ… **10h30:** Paciente chega na clÃ­nica
- âœ… **11h00:** Paciente completa 30 minutos de espera
- âŒ **11h00:** Sistema **NÃƒO envia** mensagem "aguardando" (bloqueio sÃ¡bado ativo)
- âœ… **12h00:** Paciente recebe mensagem de fim de expediente
- ğŸ“± **Resultado:** Paciente recebe apenas a mensagem oficial de fim

### ğŸ“… **CenÃ¡rio 5: Paciente chega Ã s 15h (Domingo)**
- âœ… **15h:** Paciente chega na clÃ­nica
- âœ… **15h30:** Paciente completa 30 minutos de espera
- âœ… **15h30:** Sistema **ENVIA** mensagem "aguardando" (sem restriÃ§Ãµes aos domingos)
- ğŸ“± **Resultado:** Paciente recebe mensagem normal de aguardo

---

## ğŸ¯ BenefÃ­cios da RestriÃ§Ã£o

### ğŸ‘¥ **Para os Pacientes:**
- **ComunicaÃ§Ã£o organizada** no fim do expediente
- **Evita mensagens conflitantes** durante o encerramento
- **ExperiÃªncia mais profissional** com mensagem oficial Ãºnica
- **Clareza** sobre o status do atendimento

### ğŸ¥ **Para a ClÃ­nica:**
- **Processo de encerramento** mais organizado
- **Evita sobrecarga** de mensagens no fim do expediente
- **Controle total** sobre a comunicaÃ§Ã£o oficial
- **PreparaÃ§Ã£o adequada** para o fim do atendimento

### ğŸ¤– **Para o Sistema:**
- **Reduz conflitos** entre mensagens automÃ¡ticas e oficiais
- **Melhora a performance** durante transiÃ§Ãµes
- **Facilita manutenÃ§Ã£o** e monitoramento
- **Garante consistÃªncia** no processo

---

## ğŸ“Š Resumo da LÃ³gica

| PerÃ­odo | Dias Ãšteis (Seg-Sex) | SÃ¡bado | Domingo |
|---------|---------------------|--------|---------|
| **8h-17h** | âœ… Mensagens normais | âœ… Mensagens normais | âœ… Mensagens normais |
| **17h-18h** | âŒ **BLOQUEIO TOTAL** | âœ… Mensagens normais | âœ… Mensagens normais |
| **11h-12h** | âœ… Mensagens normais | âŒ **BLOQUEIO TOTAL** | âœ… Mensagens normais |
| **18h (Seg-Sex)** | âœ… Fim de expediente | âœ… Mensagens normais | âœ… Mensagens normais |
| **12h (SÃ¡b)** | âœ… Mensagens normais | âœ… Fim de expediente | âœ… Mensagens normais |
| **18h+** | âœ… Mensagens normais | âœ… Mensagens normais | âœ… Mensagens normais |

---

## ğŸ” Monitoramento

O sistema registra todos os eventos de bloqueio e envio, permitindo:
- **Acompanhamento** de quantos pacientes foram afetados
- **AnÃ¡lise** de padrÃµes de uso
- **OtimizaÃ§Ã£o** dos horÃ¡rios conforme necessÃ¡rio
- **RelatÃ³rios** detalhados para gestÃ£o

---

*Este sistema garante uma experiÃªncia profissional e organizada tanto para pacientes quanto para a equipe da clÃ­nica, mantendo a comunicaÃ§Ã£o clara e eficiente em todos os momentos.*
